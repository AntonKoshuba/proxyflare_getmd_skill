# Заглянуть под капот ИИ-агентов: новый инструмент раскрывает «магию» Claude Code

Идеальный срыв покровов с черного ящика ИИ

Новости TprogerИИ-агенты любят создавать ощущение магии. Например, вы даете задачу — «добавь авторизацию через JWT». Затем минуту смотрите на мигающий курсор, после чего внезапно появляются изменения в семи файлах, новые тесты и коммит. Что происходило все это время — остается за кадром.

Шведский разработчик Торе Нестениус решил сорвать занавес. Он выпустил Coding Agent Explorer — открытый прокси-сервер, который в реальном времени показывает все общение между агентом и API Anthropic.

Сейчас поддерживается только Claude Code, но уже в таком виде инструмент дает неожиданно глубокое понимание того, как работает агентная разработка.

## Что именно он показывает

Explorer перехватывает HTTP-запросы и визуализирует:

- системные промпты (часто намного длиннее, чем кажется);
- последовательность вызовов инструментов (Read, Grep, Write, Bash);
- шаги «размышления» агента;
- распределение задач между моделями (например, Haiku для рутинных операций и Sonnet/Opus для сложной логики);
- статистику токенов, включая кэш (cache_creation_tokens и cache_read_tokens).

По сути, инструмент можно воспринимать как «рентген для агентной разработки». Видно, какие файлы агент читает, как ищет паттерны в коде, почему он внезапно запускает тесты и сколько это стоит в токенах.

В интерфейсе два режима. HTTP Inspector — сухая таблица со всеми JSON-телами, временем ответа и расходом токенов. Conversation View — более «человеческий» режим, где процесс выглядит как диалог: шаги планирования, проверки гипотез, исправления ошибок.

## Зачем это нужно

Изначально инструмент задумывался как учебный — автор использует его на воркшопах по агентной разработке. Но практическая ценность оказалась шире.

Когда агент «зависает», теперь можно увидеть, что он на самом деле делает: перебирает файлы, пересобирает контекст или тратит половину лимита токенов на анализ README.

А уже это помогает оптимизировать промпты и понимать реальную стоимость задач. В итоге ИИ перестает быть черным ящиком.

## Безопасность и ограничения

Explorer работает только локально (localhost). API-ключи автоматически маскируются в интерфейсе.

Данные не сохраняются — все хранится в памяти и ограничено примерно тысячей запросов. Никаких внешних сервисов и баз данных.